{"ast":null,"code":"var _jsxFileName = \"/Users/akhilgupta/Documents/apps baby/Amazona/frontend/src/Screens/PlaceOrderScreen.js\";\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CheckoutSteps from '../components/CheckoutSteps';\n\nfunction PlaceOrderScreen(props) {\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems,\n    shipping,\n    payment\n  } = cart;\n\n  if (!shipping) {\n    props.location.push(\"/shipping\");\n  }\n\n  if (!payment) {\n    props.location.push(\"/payment\");\n  }\n\n  const dispatch = useDispatch();\n\n  const checkoutHandler = () => {\n    props.history.push(\"/signin?redirect=shipping\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    step3: true,\n    step4: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"placeorder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"placeorder-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, cart.shipping.address, \", \", cart.shipping.city, \",\", cart.shipping.postalCode, \", \", cart.shipping.country)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"Payment\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"Payment Method: \", cart.payment.paymentMethod)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"cart-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, \"Shopping Cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Price\")), cartItems.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 40\n    }\n  }, \"Cart is empty\") : cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/product/\" + item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }\n  }, \"Qty:\", /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product, e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, x + 1))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"button\",\n    onClick: () => removeFromCartHandler(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"$\", item.price)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"placeorder-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Subtotal ( \", cartItems.reduce((acc, curr) => Number(acc) + Number(curr.qty), 0), \" items) : $\", cartItems.reduce((acc, curr) => acc + curr.price * curr.qty, 0)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button primary full-width\",\n    onClick: checkoutHandler,\n    disabled: cartItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Proceed to Checkout\"))));\n}\n\nexport default PlaceOrderScreen;","map":{"version":3,"sources":["/Users/akhilgupta/Documents/apps baby/Amazona/frontend/src/Screens/PlaceOrderScreen.js"],"names":["React","useEffect","Link","addToCart","removeFromCart","useDispatch","useSelector","CheckoutSteps","PlaceOrderScreen","props","cart","state","cartItems","shipping","payment","location","push","dispatch","checkoutHandler","history","address","city","postalCode","country","paymentMethod","length","map","item","product","image","name","qty","e","target","value","Array","countInStock","keys","x","removeFromCartHandler","price","reduce","acc","curr","Number"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CheckoutSteps from '../components/CheckoutSteps';\n\nfunction PlaceOrderScreen (props) {\n  const cart = useSelector(state => state.cart);\n\n  const { cartItems, shipping, payment } = cart;\n  if (!shipping) {\n    props.location.push(\"/shipping\")\n  }\n  if (!payment) {\n    props.location.push(\"/payment\")\n  }\n\n  const dispatch = useDispatch();\n  const checkoutHandler = () => {\n    props.history.push(\"/signin?redirect=shipping\")\n  }\n\n  return <div>\n    <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\n    <div className=\"placeorder\">\n      <div className=\"placeorder-info\">\n        <div>\n          <h3>\n            Shipping\n          </h3>\n          <div>\n            {cart.shipping.address}, {cart.shipping.city},\n            {cart.shipping.postalCode}, {cart.shipping.country}\n          </div>\n        </div>\n        <div>\n          <h3>\n            Payment\n          </h3>\n          <div>\n            Payment Method: {cart.payment.paymentMethod}\n          </div>\n        </div>\n        <div>\n          <ul className=\"cart-list-container\">\n            <li>\n              <h3>\n                Shopping Cart\n              </h3>\n              <div>\n                Price\n              </div>\n            </li>\n            {\n              cartItems.length === 0 ? <div>Cart is empty</div> :\n                cartItems.map(item =>\n                  <li key={item.product}>\n                    <div className=\"cart-image\">\n                      <img src={item.image} alt=\"product\" />\n                    </div>\n                    <div className=\"cart-name\">\n                      <div>\n                        <Link to={\"/product/\" + item.product}>\n                          {item.name}\n                        </Link>\n                      </div>\n                      <div>\n                        Qty:\n                        <select value={item.qty} onChange={(e) => dispatch(addToCart(item.product, e.target.value))}>\n                          {[...Array(item.countInStock).keys()].map(x =>\n                            <option value={x + 1}>{x + 1}</option>\n                          )}\n                        </select>\n                        <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)}>\n                          Delete\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"cart-price\">\n                      ${item.price}\n                    </div>\n                  </li>\n                )\n            }\n          </ul>\n        </div>\n      </div>\n      <div className=\"placeorder-action\">\n        <h3>\n          Subtotal ( {cartItems.reduce((acc, curr) => Number(acc) + Number(curr.qty), 0)} items)\n            : ${cartItems.reduce((acc, curr) => acc + curr.price * curr.qty, 0)}\n        </h3>\n        <button className=\"button primary full-width\" onClick={checkoutHandler} disabled={cartItems.length === 0}>\n          Proceed to Checkout\n        </button>\n      </div>\n    </div>\n  </div>\n\n}\n\nexport default PlaceOrderScreen;\n"]},"metadata":{},"sourceType":"module"}